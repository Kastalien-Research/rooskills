{
  "markdown": "Get comprehensive, actionable reviews directly in your PRs. [Try Roo's PR Reviewer](https://roocode.com/reviewer?utm_source=docs&utm_medium=banner&utm_campaign=reviewer_promo)\n\n[Skip to main content](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#__docusaurus_skipToContent_fallback)\n\n[![Roo Code Logo](https://docs.roocode.com/img/roo-code-logo-dark.png)](https://docs.roocode.com/)\n\n`ctrl`  `K`\n\n[Reddit](https://www.reddit.com/r/RooCode/ \"Reddit\")[Discord](https://discord.gg/roocode \"Discord\")\n\n[20.3k](https://github.com/RooCodeInc/Roo-Code \"GitHub Repository\") [Install ·934.9k](https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline \"Install VS Code Extension\")\n\n- [Welcome](https://docs.roocode.com/)\n- [Getting Started](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n- [Tutorial Videos](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n- [Roo Code Cloud](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n- Features\n\n  - [API Configuration Profiles](https://docs.roocode.com/features/api-configuration-profiles)\n  - [Auto-Approving Actions](https://docs.roocode.com/features/auto-approving-actions)\n  - [Boomerang Tasks](https://docs.roocode.com/features/boomerang-tasks)\n  - [Browser Use](https://docs.roocode.com/features/browser-use)\n  - [Checkpoints](https://docs.roocode.com/features/checkpoints)\n  - [Code Actions](https://docs.roocode.com/features/code-actions)\n  - [Codebase Indexing](https://docs.roocode.com/features/codebase-indexing)\n  - [Custom Instructions](https://docs.roocode.com/features/custom-instructions)\n  - [Diagnostics Integration](https://docs.roocode.com/features/diagnostics-integration)\n  - [Customizing Modes](https://docs.roocode.com/features/custom-modes)\n  - [Diff/Fast Edits](https://docs.roocode.com/features/fast-edits)\n  - [Enhance Prompt](https://docs.roocode.com/features/enhance-prompt)\n  - [Import/Export/Reset Settings](https://docs.roocode.com/features/settings-management)\n  - [Intelligent Context Condensing](https://docs.roocode.com/features/intelligent-context-condensing)\n  - [Keyboard Navigation](https://docs.roocode.com/features/keyboard-shortcuts)\n  - [Roo Code Marketplace](https://docs.roocode.com/features/marketplace)\n  - [Message Queueing](https://docs.roocode.com/features/message-queueing)\n  - [Model Temperature](https://docs.roocode.com/features/model-temperature)\n  - [Multi-File Reads](https://docs.roocode.com/features/concurrent-file-reads)\n  - [.rooignore](https://docs.roocode.com/features/rooignore)\n  - [Slash Commands](https://docs.roocode.com/features/slash-commands)\n  - [Suggested Responses](https://docs.roocode.com/features/suggested-responses)\n  - [Task Todo List](https://docs.roocode.com/features/task-todo-list)\n  - [Terminal Shell Integration](https://docs.roocode.com/features/shell-integration)\n  - [MCP](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n  - [Experimental](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n  - [Additional Features](https://docs.roocode.com/features/more-features)\n- [Advanced Usage](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n  - [Available Tools](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n    - [Tool Use Overview](https://docs.roocode.com/advanced-usage/available-tools/tool-use-overview)\n    - [access\\_mcp\\_resource](https://docs.roocode.com/advanced-usage/available-tools/access-mcp-resource)\n    - [apply\\_diff](https://docs.roocode.com/advanced-usage/available-tools/apply-diff)\n    - [ask\\_followup\\_question](https://docs.roocode.com/advanced-usage/available-tools/ask-followup-question)\n    - [attempt\\_completion](https://docs.roocode.com/advanced-usage/available-tools/attempt-completion)\n    - [browser\\_action](https://docs.roocode.com/advanced-usage/available-tools/browser-action)\n    - [codebase\\_search](https://docs.roocode.com/advanced-usage/available-tools/codebase-search)\n    - [execute\\_command](https://docs.roocode.com/advanced-usage/available-tools/execute-command)\n    - [insert\\_content](https://docs.roocode.com/advanced-usage/available-tools/insert-content)\n    - [list\\_code\\_definition\\_names](https://docs.roocode.com/advanced-usage/available-tools/list-code-definition-names)\n    - [list\\_files](https://docs.roocode.com/advanced-usage/available-tools/list-files)\n    - [new\\_task](https://docs.roocode.com/advanced-usage/available-tools/new-task)\n    - [read\\_file](https://docs.roocode.com/advanced-usage/available-tools/read-file)\n    - [run\\_slash\\_command](https://docs.roocode.com/advanced-usage/available-tools/run-slash-command)\n    - [search\\_files](https://docs.roocode.com/advanced-usage/available-tools/search-files)\n    - [search\\_and\\_replace](https://docs.roocode.com/advanced-usage/available-tools/search-and-replace)\n    - [switch\\_mode](https://docs.roocode.com/advanced-usage/available-tools/switch-mode)\n    - [update\\_todo\\_list](https://docs.roocode.com/advanced-usage/available-tools/update-todo-list)\n    - [use\\_mcp\\_tool](https://docs.roocode.com/advanced-usage/available-tools/use-mcp-tool)\n    - [write\\_to\\_file](https://docs.roocode.com/advanced-usage/available-tools/write-to-file)\n  - [Context Poisoning](https://docs.roocode.com/advanced-usage/context-poisoning)\n  - [Working with Large Projects](https://docs.roocode.com/advanced-usage/large-projects)\n  - [Using Local Models](https://docs.roocode.com/advanced-usage/local-models)\n  - [Local Development Setup](https://docs.roocode.com/advanced-usage/local-development-setup)\n  - [Prompt Engineering Tips](https://docs.roocode.com/advanced-usage/prompt-engineering)\n  - [Prompt Structure](https://docs.roocode.com/advanced-usage/prompt-structure)\n  - [Rate Limits and Costs](https://docs.roocode.com/advanced-usage/rate-limits-costs)\n  - [Footgun Prompting](https://docs.roocode.com/advanced-usage/footgun-prompting)\n  - [Roo Code Nightly](https://docs.roocode.com/advanced-usage/roo-code-nightly)\n- [Model Providers](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n- [FAQ](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n- [Contributing (GitHub)](https://github.com/RooCodeInc/Roo-Code/blob/main/CONTRIBUTING.md)\n- [Roocabulary (GitHub)](https://github.com/cannuri/Roocabulary)\n- [Update Notes](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#)\n\n\n- [Home page](https://docs.roocode.com/)\n- Advanced Usage\n- Available Tools\n- codebase\\_search\n\nCopy Page\n\nOn this page\n\n# codebase\\_search\n\nSetup Required\n\nThe `codebase_search` tool is part of the [Codebase Indexing](https://docs.roocode.com/features/codebase-indexing) feature. It requires additional setup including an embedding provider and vector database.\n\nThe `codebase_search` tool performs semantic searches across your entire codebase using AI embeddings. Unlike traditional text-based search, it understands the meaning of your queries and finds relevant code even when exact keywords don't match.\n\n* * *\n\n## Parameters [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#parameters \"Direct link to Parameters\")\n\nThe tool accepts these parameters:\n\n- `query` (required): Natural language search query describing what you're looking for\n- `path` (optional): Directory path to limit search scope to a specific part of your codebase\n\n* * *\n\n## What It Does [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#what-it-does \"Direct link to What It Does\")\n\nThis tool searches through your indexed codebase using semantic similarity rather than exact text matching. It finds code blocks that are conceptually related to your query, even if they don't contain the exact words you searched for. Results include relevant code snippets with file paths, line numbers, and similarity scores.\n\n* * *\n\n## When is it used? [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#when-is-it-used \"Direct link to When is it used?\")\n\n- When Roo needs to find code related to specific functionality across your project\n- When looking for implementation patterns or similar code structures\n- When searching for error handling, authentication, or other conceptual code patterns\n- When exploring unfamiliar codebases to understand how features are implemented\n- When finding related code that might be affected by changes or refactoring\n\n* * *\n\n## Key Features [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#key-features \"Direct link to Key Features\")\n\n- **Semantic Understanding**: Finds code by meaning rather than exact keyword matches\n- **Cross-Project Search**: Searches across your entire indexed codebase, not just open files\n- **Contextual Results**: Returns code snippets with file paths and line numbers for easy navigation\n- **Similarity Scoring**: Results ranked by relevance with similarity scores (0-1 scale)\n- **Scope Filtering**: Optional path parameter to limit searches to specific directories\n- **Intelligent Ranking**: Results sorted by semantic relevance to your query\n- **UI Integration**: Results displayed with syntax highlighting and navigation links\n- **Performance Optimized**: Fast vector-based search with configurable result limits\n\n* * *\n\n## Requirements [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#requirements \"Direct link to Requirements\")\n\nThis tool is only available when the Codebase Indexing feature is properly configured:\n\n- **Feature Configured**: Codebase Indexing must be configured in settings\n- **Embedding Provider**: OpenAI API key or Ollama configuration required\n- **Vector Database**: Qdrant instance running and accessible\n- **Index Status**: Codebase must be indexed (status: \"Indexed\" or \"Indexing\")\n\n* * *\n\n## Limitations [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#limitations \"Direct link to Limitations\")\n\n- **Requires Configuration**: Depends on external services (embedding provider + Qdrant)\n- **Index Dependency**: Only searches through indexed code blocks\n- **Result Limits**: Maximum of 50 results per search to maintain performance\n- **Similarity Threshold**: Only returns results above similarity threshold (default: 0.4, configurable)\n- **File Size Limits**: Limited to files under 1MB that were successfully indexed\n- **Language Support**: Effectiveness depends on Tree-sitter language support\n\n* * *\n\n## How It Works [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#how-it-works \"Direct link to How It Works\")\n\nWhen the `codebase_search` tool is invoked, it follows this process:\n\n1. **Availability Validation**:\n   - Verifies that the CodeIndexManager is available and initialized\n   - Confirms codebase indexing is enabled in settings\n   - Checks that indexing is properly configured (API keys, Qdrant URL)\n   - Validates the current index state allows searching\n2. **Query Processing**:\n   - Takes your natural language query and generates an embedding vector\n   - Uses the same embedding provider configured for indexing (OpenAI or Ollama)\n   - Converts the semantic meaning of your query into a mathematical representation\n3. **Vector Search Execution**:\n   - Searches the Qdrant vector database for similar code embeddings\n   - Uses cosine similarity to find the most relevant code blocks\n   - Applies the minimum similarity threshold (default: 0.4, configurable) to filter results\n   - Limits results to 50 matches for optimal performance\n4. **Path Filtering** (if specified):\n   - Filters results to only include files within the specified directory path\n   - Uses normalized path comparison for accurate filtering\n   - Maintains relevance ranking within the filtered scope\n5. **Result Processing and Formatting**:\n   - Converts absolute file paths to workspace-relative paths\n   - Structures results with file paths, line ranges, similarity scores, and code content\n   - Formats for both AI consumption and UI display with syntax highlighting\n6. **Dual Output Format**:\n   - **AI Output**: Structured text format with query, file paths, scores, and code chunks\n   - **UI Output**: JSON format with syntax highlighting and navigation capabilities\n\n* * *\n\n## Search Query Best Practices [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#search-query-best-practices \"Direct link to Search Query Best Practices\")\n\n### Effective Query Patterns [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#effective-query-patterns \"Direct link to Effective Query Patterns\")\n\n**Good: Conceptual and specific**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>user authentication and password validation</query>\n</codebase_search>\n\n```\n\n**Good: Feature-focused**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>database connection pool setup</query>\n</codebase_search>\n\n```\n\n**Good: Problem-oriented**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>error handling for API requests</query>\n</codebase_search>\n\n```\n\n**Less effective: Too generic**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>function</query>\n</codebase_search>\n\n```\n\n### Query Types That Work Well [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#query-types-that-work-well \"Direct link to Query Types That Work Well\")\n\n- **Functional Descriptions**: \"file upload processing\", \"email validation logic\"\n- **Technical Patterns**: \"singleton pattern implementation\", \"factory method usage\"\n- **Domain Concepts**: \"user profile management\", \"payment processing workflow\"\n- **Architecture Components**: \"middleware configuration\", \"database migration scripts\"\n\n* * *\n\n## Directory Scoping [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#directory-scoping \"Direct link to Directory Scoping\")\n\nUse the optional `path` parameter to focus searches on specific parts of your codebase:\n\n**Search within API modules:**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>endpoint validation middleware</query>\n<path>src/api</path>\n</codebase_search>\n\n```\n\n**Search in test files:**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>mock data setup patterns</query>\n<path>tests</path>\n</codebase_search>\n\n```\n\n**Search specific feature directories:**\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>component state management</query>\n<path>src/components/auth</path>\n</codebase_search>\n\n```\n\n* * *\n\n## Result Interpretation [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#result-interpretation \"Direct link to Result Interpretation\")\n\n### Similarity Scores [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#similarity-scores \"Direct link to Similarity Scores\")\n\n- **0.8-1.0**: Highly relevant matches, likely exactly what you're looking for\n- **0.6-0.8**: Good matches with strong conceptual similarity\n- **0.4-0.6**: Potentially relevant but may require review\n- **Below 0.4**: Filtered out as too dissimilar\n\n### Result Structure [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#result-structure \"Direct link to Result Structure\")\n\nEach search result includes:\n\n- **File Path**: Workspace-relative path to the file containing the match\n- **Score**: Similarity score indicating relevance (0.4-1.0)\n- **Line Range**: Start and end line numbers for the code block\n- **Code Chunk**: The actual code content that matched your query\n\n* * *\n\n## Examples When Used [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#examples-when-used \"Direct link to Examples When Used\")\n\n- When implementing a new feature, Roo searches for \"authentication middleware\" to understand existing patterns before writing new code.\n- When debugging an issue, Roo searches for \"error handling in API calls\" to find related error patterns across the codebase.\n- When refactoring code, Roo searches for \"database transaction patterns\" to ensure consistency across all database operations.\n- When onboarding to a new codebase, Roo searches for \"configuration loading\" to understand how the application bootstraps.\n\n* * *\n\n## Usage Examples [​](https://docs.roocode.com/advanced-usage/available-tools/codebase-search\\#usage-examples \"Direct link to Usage Examples\")\n\nSearching for authentication-related code across the entire project:\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>user login and authentication logic</query>\n</codebase_search>\n\n```\n\nFinding database-related code in a specific directory:\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>database connection and query execution</query>\n<path>src/data</path>\n</codebase_search>\n\n```\n\nLooking for error handling patterns in API code:\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>HTTP error responses and exception handling</query>\n<path>src/api</path>\n</codebase_search>\n\n```\n\nSearching for testing utilities and mock setups:\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>test setup and mock data creation</query>\n<path>tests</path>\n</codebase_search>\n\n```\n\nFinding configuration and environment setup code:\n\n```codeBlockLines_e6Vv\n<codebase_search>\n<query>environment variables and application configuration</query>\n</codebase_search>\n\n```\n\n[Edit this page](https://github.com/RooCodeInc/Roo-Code-Docs/edit/main/docs/advanced-usage/available-tools/codebase-search.md)\n\nLast updated on **Oct 3, 2025**\n\n[Previous\\\\\n\\\\\nbrowser\\_action](https://docs.roocode.com/advanced-usage/available-tools/browser-action) [Next\\\\\n\\\\\nexecute\\_command](https://docs.roocode.com/advanced-usage/available-tools/execute-command)\n\n- [Parameters](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#parameters)\n- [What It Does](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#what-it-does)\n- [When is it used?](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#when-is-it-used)\n- [Key Features](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#key-features)\n- [Requirements](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#requirements)\n- [Limitations](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#limitations)\n- [How It Works](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#how-it-works)\n- [Search Query Best Practices](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#search-query-best-practices)\n  - [Effective Query Patterns](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#effective-query-patterns)\n  - [Query Types That Work Well](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#query-types-that-work-well)\n- [Directory Scoping](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#directory-scoping)\n- [Result Interpretation](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#result-interpretation)\n  - [Similarity Scores](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#similarity-scores)\n  - [Result Structure](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#result-structure)\n- [Examples When Used](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#examples-when-used)\n- [Usage Examples](https://docs.roocode.com/advanced-usage/available-tools/codebase-search#usage-examples)\n\n![Roo Code Logo](https://docs.roocode.com/img/roo-code-logo-dark.png)\n\nEmpowering developers to build better software faster with AI-powered tools and insights.\n\n[GitHub](https://github.com/RooCodeInc/Roo-Code)[Discord](https://discord.gg/roocode)[Reddit](https://www.reddit.com/r/RooCode/)[X (Twitter)](https://x.com/roo_code)[LinkedIn](https://www.linkedin.com/company/roo-code)[TikTok](https://www.tiktok.com/@roo.code)[Bluesky](https://bsky.app/profile/roocode.bsky.social)\n\nGitHub\n\n- [Issues](https://github.com/RooCodeInc/Roo-Code/issues)\n- [Feature Requests](https://github.com/RooCodeInc/Roo-Code/discussions/categories/feature-requests?discussions_q=is%3Aopen+category%3A%22Feature+Requests%22+sort%3Atop)\n\nDownload\n\n- [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline)\n- [Open VSX Registry](https://open-vsx.org/extension/RooVeterinaryInc/roo-cline)\n\nCompany\n\n- [Contact](mailto:support@roocode.com)\n- [Careers](https://careers.roocode.com/)\n- [Website Privacy Policy](https://roocode.com/privacy)\n- [Extension Privacy Policy](https://github.com/RooCodeInc/Roo-Code/blob/main/PRIVACY.md)\n\nLike most of the internet, we use cookies. Are you OK with that?\n\nDeclineAccept",
  "metadata": {
    "og:url": "https://docs.roocode.com/advanced-usage/available-tools/codebase-search",
    "twitter:creator": "@roo_code",
    "ogTitle": "codebase_search | Roo Code Documentation",
    "ogLocale": "en_US",
    "og:type": "website",
    "og:image": "https://docs.roocode.com/img/social-share.jpg",
    "og:title": "codebase_search | Roo Code Documentation",
    "docusaurus_version": "current",
    "docsearch:version": "current",
    "favicon": "https://docs.roocode.com/img/favicon.ico",
    "ogDescription": "Perform intelligent semantic searches across your codebase using AI embeddings to find relevant code by meaning, not just keywords.",
    "twitter:image": "https://docs.roocode.com/img/social-share.jpg",
    "docsearch:docusaurus_tag": "docs-default-current",
    "ogImage": "https://docs.roocode.com/img/social-share.jpg",
    "docusaurus_locale": "en",
    "language": "en",
    "twitter:site": "@roo_code",
    "viewport": "width=device-width, initial-scale=1.0",
    "generator": "Docusaurus v3.9.2",
    "og:locale": "en_US",
    "description": "Perform intelligent semantic searches across your codebase using AI embeddings to find relevant code by meaning, not just keywords.",
    "docusaurus_tag": "docs-default-current",
    "twitter:card": "summary_large_image",
    "og:description": "Perform intelligent semantic searches across your codebase using AI embeddings to find relevant code by meaning, not just keywords.",
    "keywords": "codebase_search,semantic search,AI embeddings,code search,Roo Code tools,vector search,Qdrant",
    "docsearch:language": "en",
    "title": "codebase_search | Roo Code Documentation",
    "ogUrl": "https://docs.roocode.com/advanced-usage/available-tools/codebase-search",
    "scrapeId": "9bf239c4-2926-4a0d-a1d3-7b4e20810920",
    "sourceURL": "https://docs.roocode.com/advanced-usage/available-tools/codebase-search",
    "url": "https://docs.roocode.com/advanced-usage/available-tools/codebase-search",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "miss",
    "creditsUsed": 1
  }
}