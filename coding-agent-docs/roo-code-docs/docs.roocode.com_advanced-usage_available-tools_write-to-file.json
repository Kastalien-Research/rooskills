{
  "markdown": "Get comprehensive, actionable reviews directly in your PRs. [Try Roo's PR Reviewer](https://roocode.com/reviewer?utm_source=docs&utm_medium=banner&utm_campaign=reviewer_promo)\n\n[Skip to main content](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#__docusaurus_skipToContent_fallback)\n\n[![Roo Code Logo](https://docs.roocode.com/img/roo-code-logo-dark.png)](https://docs.roocode.com/)\n\n`ctrl`  `K`\n\n[Reddit](https://www.reddit.com/r/RooCode/ \"Reddit\")[Discord](https://discord.gg/roocode \"Discord\")\n\n[20.3k](https://github.com/RooCodeInc/Roo-Code \"GitHub Repository\") [Install ·935.9k](https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline \"Install VS Code Extension\")\n\n- [Welcome](https://docs.roocode.com/)\n- [Getting Started](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n- [Tutorial Videos](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n- [Roo Code Cloud](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n- Features\n\n  - [API Configuration Profiles](https://docs.roocode.com/features/api-configuration-profiles)\n  - [Auto-Approving Actions](https://docs.roocode.com/features/auto-approving-actions)\n  - [Boomerang Tasks](https://docs.roocode.com/features/boomerang-tasks)\n  - [Browser Use](https://docs.roocode.com/features/browser-use)\n  - [Checkpoints](https://docs.roocode.com/features/checkpoints)\n  - [Code Actions](https://docs.roocode.com/features/code-actions)\n  - [Codebase Indexing](https://docs.roocode.com/features/codebase-indexing)\n  - [Custom Instructions](https://docs.roocode.com/features/custom-instructions)\n  - [Diagnostics Integration](https://docs.roocode.com/features/diagnostics-integration)\n  - [Customizing Modes](https://docs.roocode.com/features/custom-modes)\n  - [Diff/Fast Edits](https://docs.roocode.com/features/fast-edits)\n  - [Enhance Prompt](https://docs.roocode.com/features/enhance-prompt)\n  - [Import/Export/Reset Settings](https://docs.roocode.com/features/settings-management)\n  - [Intelligent Context Condensing](https://docs.roocode.com/features/intelligent-context-condensing)\n  - [Keyboard Navigation](https://docs.roocode.com/features/keyboard-shortcuts)\n  - [Roo Code Marketplace](https://docs.roocode.com/features/marketplace)\n  - [Message Queueing](https://docs.roocode.com/features/message-queueing)\n  - [Model Temperature](https://docs.roocode.com/features/model-temperature)\n  - [Multi-File Reads](https://docs.roocode.com/features/concurrent-file-reads)\n  - [.rooignore](https://docs.roocode.com/features/rooignore)\n  - [Slash Commands](https://docs.roocode.com/features/slash-commands)\n  - [Suggested Responses](https://docs.roocode.com/features/suggested-responses)\n  - [Task Todo List](https://docs.roocode.com/features/task-todo-list)\n  - [Terminal Shell Integration](https://docs.roocode.com/features/shell-integration)\n  - [MCP](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n  - [Experimental](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n  - [Additional Features](https://docs.roocode.com/features/more-features)\n- [Advanced Usage](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n  - [Available Tools](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n    - [Tool Use Overview](https://docs.roocode.com/advanced-usage/available-tools/tool-use-overview)\n    - [access\\_mcp\\_resource](https://docs.roocode.com/advanced-usage/available-tools/access-mcp-resource)\n    - [apply\\_diff](https://docs.roocode.com/advanced-usage/available-tools/apply-diff)\n    - [ask\\_followup\\_question](https://docs.roocode.com/advanced-usage/available-tools/ask-followup-question)\n    - [attempt\\_completion](https://docs.roocode.com/advanced-usage/available-tools/attempt-completion)\n    - [browser\\_action](https://docs.roocode.com/advanced-usage/available-tools/browser-action)\n    - [codebase\\_search](https://docs.roocode.com/advanced-usage/available-tools/codebase-search)\n    - [execute\\_command](https://docs.roocode.com/advanced-usage/available-tools/execute-command)\n    - [insert\\_content](https://docs.roocode.com/advanced-usage/available-tools/insert-content)\n    - [list\\_code\\_definition\\_names](https://docs.roocode.com/advanced-usage/available-tools/list-code-definition-names)\n    - [list\\_files](https://docs.roocode.com/advanced-usage/available-tools/list-files)\n    - [new\\_task](https://docs.roocode.com/advanced-usage/available-tools/new-task)\n    - [read\\_file](https://docs.roocode.com/advanced-usage/available-tools/read-file)\n    - [run\\_slash\\_command](https://docs.roocode.com/advanced-usage/available-tools/run-slash-command)\n    - [search\\_files](https://docs.roocode.com/advanced-usage/available-tools/search-files)\n    - [search\\_and\\_replace](https://docs.roocode.com/advanced-usage/available-tools/search-and-replace)\n    - [switch\\_mode](https://docs.roocode.com/advanced-usage/available-tools/switch-mode)\n    - [update\\_todo\\_list](https://docs.roocode.com/advanced-usage/available-tools/update-todo-list)\n    - [use\\_mcp\\_tool](https://docs.roocode.com/advanced-usage/available-tools/use-mcp-tool)\n    - [write\\_to\\_file](https://docs.roocode.com/advanced-usage/available-tools/write-to-file)\n  - [Context Poisoning](https://docs.roocode.com/advanced-usage/context-poisoning)\n  - [Working with Large Projects](https://docs.roocode.com/advanced-usage/large-projects)\n  - [Using Local Models](https://docs.roocode.com/advanced-usage/local-models)\n  - [Local Development Setup](https://docs.roocode.com/advanced-usage/local-development-setup)\n  - [Prompt Engineering Tips](https://docs.roocode.com/advanced-usage/prompt-engineering)\n  - [Prompt Structure](https://docs.roocode.com/advanced-usage/prompt-structure)\n  - [Rate Limits and Costs](https://docs.roocode.com/advanced-usage/rate-limits-costs)\n  - [Footgun Prompting](https://docs.roocode.com/advanced-usage/footgun-prompting)\n  - [Roo Code Nightly](https://docs.roocode.com/advanced-usage/roo-code-nightly)\n- [Model Providers](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n- [FAQ](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n- [Contributing (GitHub)](https://github.com/RooCodeInc/Roo-Code/blob/main/CONTRIBUTING.md)\n- [Roocabulary (GitHub)](https://github.com/cannuri/Roocabulary)\n- [Update Notes](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#)\n\n\n- [Home page](https://docs.roocode.com/)\n- Advanced Usage\n- Available Tools\n- write\\_to\\_file\n\nCopy Page\n\nOn this page\n\n# write\\_to\\_file\n\nThe `write_to_file` tool creates new files or completely replaces existing file content with an interactive approval process. It provides a diff view for reviewing changes before they're applied.\n\n* * *\n\n## Parameters [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#parameters \"Direct link to Parameters\")\n\nThe tool accepts these parameters:\n\n- `path` (required): The path of the file to write to, relative to the current working directory\n- `content` (required): The complete content to write to the file\n- `line_count` (required): The number of lines in the file, including empty lines\n\n* * *\n\n## What It Does [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#what-it-does \"Direct link to What It Does\")\n\nThis tool writes content to a specified file, either creating a new file if it doesn't exist or completely overwriting an existing file. All changes require explicit user approval through a diff view interface, where users can review and even edit the proposed changes before they're applied.\n\n* * *\n\n## When is it used? [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#when-is-it-used \"Direct link to When is it used?\")\n\n- When Roo needs to create a new file from scratch\n- When Roo needs to completely rewrite an existing file\n- When creating multiple files for a new project\n- When generating configuration files, documentation, or source code\n- When you need to review changes before they're applied\n\n* * *\n\n## Key Features [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#key-features \"Direct link to Key Features\")\n\n- Interactive Approval: Shows changes in a diff view requiring explicit approval before applying\n- User Edit Support: Allows editing the proposed content before final approval\n- Safety Measures: Detects code omission, validates paths, and prevents truncated content\n- Editor Integration: Opens a diff view that scrolls to the first difference automatically\n- Content Preprocessing: Handles artifacts from different AI models to ensure clean content\n- Access Control: Validates against `.rooignore` restrictions before making changes\n- Parent Directories: May handle directory creation through system dependencies\n- Complete Replacement: Provides a fully transformed file in a single operation\n\n* * *\n\n## Limitations [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#limitations \"Direct link to Limitations\")\n\n- Not suitable for existing files: Much slower and less efficient than `apply_diff` for modifying existing files\n- Performance with large files: Operation becomes significantly slower with larger files\n- Complete overwrite: Replaces entire file content, cannot preserve original content\n- Line count required: Needs accurate line count to detect potential content truncation\n- Review overhead: The approval process adds extra steps compared to direct edits\n- Interactive only: Cannot be used in automated workflows that require non-interactive execution\n\n* * *\n\n## How It Works [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#how-it-works \"Direct link to How It Works\")\n\nWhen the `write_to_file` tool is invoked, it follows this process:\n\n1. **Parameter Validation**: Validates the required parameters and permissions\n   - Checks that `path`, `content`, and `line_count` are provided\n   - If `line_count` is missing/invalid, reverts any diff view changes and returns an error suggesting alternative tools ( `apply_diff`, `insert_content`, etc.) if modifying an existing file.\n   - Validates the file is allowed (not restricted by `.rooignore`)\n   - Ensures the path is within the workspace boundaries\n   - Tracks consecutive mistake counts for missing parameters\n   - Shows specific error messages for each validation failure\n2. **Content Preprocessing**:\n   - Removes code block markers that might be added by AI models\n   - Handles escaped HTML entities (specifically for non-Claude models)\n   - Strips line numbers if accidentally included in content\n   - Performs model-specific processing for different AI providers\n3. **Diff View Generation**:\n   - Opens a diff view in the editor showing the proposed changes\n   - Adds a 300ms delay to ensure UI responsiveness\n   - Scrolls automatically to the first difference\n   - Highlights changes for easy review\n4. **User Approval Process**:\n   - Waits for explicit user approval to proceed\n   - Allows users to edit the content in the diff view\n   - Captures any user edits for the final content\n   - Provides option to reject changes entirely\n   - Detects and incorporates user modifications into the final result\n5. **Safety Validation**:\n   - Detects potential content truncation by comparing with provided line count\n   - Shows warnings if content appears incomplete\n   - Validates file path and access permissions\n   - Specifically checks if files are outside the workspace with `isOutsideWorkspace` flag\n6. **File Writing**:\n   - Writes the approved content (with any user edits) to the file\n   - Provides confirmation of successful write\n   - Resets the consecutive mistakes counter on success\n\n* * *\n\n## Examples When Used [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#examples-when-used \"Direct link to Examples When Used\")\n\n- When creating a new project, Roo generates multiple files but lets you review each before committing changes.\n- When setting up configuration files, Roo shows the proposed configuration in a diff view for approval.\n- When generating documentation, Roo creates markdown files but lets you make final adjustments in the diff view.\n- When developing a prototype, Roo shows complete source files in a diff view where you can fine-tune before saving.\n\n* * *\n\n## Usage Examples [​](https://docs.roocode.com/advanced-usage/available-tools/write-to-file\\#usage-examples \"Direct link to Usage Examples\")\n\nCreating a new JSON configuration file:\n\n```codeBlockLines_e6Vv\n<write_to_file>\n<path>config/settings.json</path>\n<content>\n{\n  \"apiEndpoint\": \"https://api.example.com\",\n  \"theme\": {\n    \"primaryColor\": \"#007bff\",\n    \"secondaryColor\": \"#6c757d\",\n    \"fontFamily\": \"Arial, sans-serif\"\n  },\n  \"features\": {\n    \"darkMode\": true,\n    \"notifications\": true,\n    \"analytics\": false\n  },\n  \"version\": \"1.0.0\"\n}\n</content>\n<line_count>14</line_count>\n</write_to_file>\n\n```\n\nCreating a simple HTML file:\n\n```codeBlockLines_e6Vv\n<write_to_file>\n<path>src/index.html</path>\n<content>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>My Application</title>\n  <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n  <div id=\"app\"></div>\n  <script src=\"app.js\"></script>\n</body>\n</html>\n</content>\n<line_count>13</line_count>\n</write_to_file>\n\n```\n\nCreating a JavaScript module:\n\n```codeBlockLines_e6Vv\n<write_to_file>\n<path>src/utils/helpers.js</path>\n<content>\n/**\n * Utility functions for the application\n */\n\nexport function formatDate(date) {\n  return new Date(date).toLocaleDateString();\n}\n\nexport function calculateTotal(items) {\n  return items.reduce((sum, item) => sum + item.price, 0);\n}\n\nexport function debounce(func, delay) {\n  let timeout;\n  return function(...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), delay);\n  };\n}\n</content>\n<line_count>18</line_count>\n</write_to_file>\n\n```\n\n[Edit this page](https://github.com/RooCodeInc/Roo-Code-Docs/edit/main/docs/advanced-usage/available-tools/write-to-file.md)\n\nLast updated on **Oct 3, 2025**\n\n[Previous\\\\\n\\\\\nuse\\_mcp\\_tool](https://docs.roocode.com/advanced-usage/available-tools/use-mcp-tool) [Next\\\\\n\\\\\nContext Poisoning](https://docs.roocode.com/advanced-usage/context-poisoning)\n\n- [Parameters](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#parameters)\n- [What It Does](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#what-it-does)\n- [When is it used?](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#when-is-it-used)\n- [Key Features](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#key-features)\n- [Limitations](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#limitations)\n- [How It Works](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#how-it-works)\n- [Examples When Used](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#examples-when-used)\n- [Usage Examples](https://docs.roocode.com/advanced-usage/available-tools/write-to-file#usage-examples)\n\n![Roo Code Logo](https://docs.roocode.com/img/roo-code-logo-dark.png)\n\nEmpowering developers to build better software faster with AI-powered tools and insights.\n\n[GitHub](https://github.com/RooCodeInc/Roo-Code)[Discord](https://discord.gg/roocode)[Reddit](https://www.reddit.com/r/RooCode/)[X (Twitter)](https://x.com/roo_code)[LinkedIn](https://www.linkedin.com/company/roo-code)[TikTok](https://www.tiktok.com/@roo.code)[Bluesky](https://bsky.app/profile/roocode.bsky.social)\n\nGitHub\n\n- [Issues](https://github.com/RooCodeInc/Roo-Code/issues)\n- [Feature Requests](https://github.com/RooCodeInc/Roo-Code/discussions/categories/feature-requests?discussions_q=is%3Aopen+category%3A%22Feature+Requests%22+sort%3Atop)\n\nDownload\n\n- [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline)\n- [Open VSX Registry](https://open-vsx.org/extension/RooVeterinaryInc/roo-cline)\n\nCompany\n\n- [Contact](mailto:support@roocode.com)\n- [Careers](https://careers.roocode.com/)\n- [Website Privacy Policy](https://roocode.com/privacy)\n- [Extension Privacy Policy](https://github.com/RooCodeInc/Roo-Code/blob/main/PRIVACY.md)\n\nLike most of the internet, we use cookies. Are you OK with that?\n\nDeclineAccept",
  "metadata": {
    "twitter:card": "summary_large_image",
    "ogImage": "https://docs.roocode.com/img/social-share.jpg",
    "ogDescription": "Explore write_to_file for creating new files or replacing content with interactive diff view approval, ensuring safe file operations in Roo Code.",
    "docusaurus_version": "current",
    "ogLocale": "en_US",
    "og:url": "https://docs.roocode.com/advanced-usage/available-tools/write-to-file",
    "language": "en",
    "og:type": "website",
    "docusaurus_tag": "docs-default-current",
    "og:title": "write_to_file | Roo Code Documentation",
    "twitter:image": "https://docs.roocode.com/img/social-share.jpg",
    "keywords": "write_to_file,Roo Code tools,file creation,file writing,diff view,content approval,file operations,interactive editing,VS Code AI",
    "favicon": "https://docs.roocode.com/img/favicon.ico",
    "title": "write_to_file | Roo Code Documentation",
    "ogUrl": "https://docs.roocode.com/advanced-usage/available-tools/write-to-file",
    "generator": "Docusaurus v3.9.2",
    "twitter:creator": "@roo_code",
    "og:image": "https://docs.roocode.com/img/social-share.jpg",
    "docsearch:version": "current",
    "twitter:site": "@roo_code",
    "og:locale": "en_US",
    "docsearch:language": "en",
    "viewport": "width=device-width, initial-scale=1.0",
    "description": "Explore write_to_file for creating new files or replacing content with interactive diff view approval, ensuring safe file operations in Roo Code.",
    "og:description": "Explore write_to_file for creating new files or replacing content with interactive diff view approval, ensuring safe file operations in Roo Code.",
    "docusaurus_locale": "en",
    "ogTitle": "write_to_file | Roo Code Documentation",
    "docsearch:docusaurus_tag": "docs-default-current",
    "scrapeId": "e0f8120b-800a-4e40-abe8-08d885952f9e",
    "sourceURL": "https://docs.roocode.com/advanced-usage/available-tools/write-to-file",
    "url": "https://docs.roocode.com/advanced-usage/available-tools/write-to-file",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic",
    "cacheState": "miss",
    "indexId": "a0916870-376d-4cc6-bfba-b0c4f3f68f36",
    "creditsUsed": 1
  }
}